{% extends "auctions/layout.html" %}

    {% block body %}
<h2 class="mb-4">Active Listings</h2>

{% if message %}
<div class="alert alert-info">{{ message }}</div>
{% endif %}

<div class="row">
    {% for item in listing %}
    <div class="col-md-4 mb-4">
        <div class="card h-100" style="max-height: 600px;">
            <img src="{{ item.image_url }}" class="card-img-top" alt="{{ item.title }}" style="height: 250px; object-fit: cover;">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ item.title }}</h5>
                <p class="card-text"><strong>Starting price:</strong> ${{ item.start_bid }}</p>
                <p class="card-text">{{ item.description|truncatewords:20 }}</p>
                <a href="{% url 'item' item.id %}" class="mt-auto btn btn-primary">View Listing</a>
            </div>

            {% if item.open %}
            <div class="card-footer bg-success">
                <p class="card-text text-center"><strong>Open</strong></p>
            </div>
            {% else %}
            <div class="card-footer bg-secondary">
                <p class="card-text text-center"><strong>Closed</strong></p>
            </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

